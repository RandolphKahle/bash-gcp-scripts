# File: remove-default-gcp-network
#
# Purpose:
#  Removes the default network from a GCP project
#
# Preconditions:
#  1. Project must have Compute Engine API activated
#  2. Project identifier must be exported in environment variable "PROJECT"

# Remove the default networks in each of the projects

gcloud compute firewall-rules delete default-allow-icmp     --project=$PROJECT --quiet
gcloud compute firewall-rules delete default-allow-internal --project=$PROJECT --quiet
gcloud compute firewall-rules delete default-allow-rdp      --project=$PROJECT --quiet
gcloud compute firewall-rules delete default-allow-ssh      --project=$PROJECT --quiet
gcloud compute networks       delete default                --project=$PROJECT --quiet
